<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed to the Apache Software Foundation (ASF) under one
  or more contributor license agreements.  See the NOTICE file
  distributed with this work for additional information
  regarding copyright ownership.  The ASF licenses this file
  to you under the Apache License, Version 2.0 (the
  "License"); you may not use this file except in compliance
  with the License.  You may obtain a copy of the License at
  
       http://www.apache.org/licenses/LICENSE-2.0
  
  Unless required by applicable law or agreed to in writing,
  software distributed under the License is distributed on an
  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, either express or implied.  See the License for the
  specific language governing permissions and limitations
  under the License.
-->
<chapter id="ducc.jm.ov">
<title>Overview - Orchestrator</title>
<section>
  <title>Introduction</title>
  <para>
  The JM component supervises the lifecycle of UIMA applications across a distributed set of computing resources.
  </para>
  <para>
  Users interact with the JM to submit, modify and cancel jobs.
  The JM continually communicates with other DUCC components to schedule and dispatch work on the distributed cluster
  of machines.
  </para>
  <para>
  Typically, each job comprises two parts: CR and CM+AE+CC aggregate, with one CR providing CASes to many CM+AE+CC aggregates
  distributed on the cluster.  
  </para>
  <para>
  Each aggregate is deployed as parallel UIMA-AS services which may increase or decrease in number over 
  the lifetime of the job, as prescribed by the RM.
  </para>
</section>
<section>
  <title>Job States</title>
  <para>
  Each job traverses a simple state machine from inception to conclusion.
  </para>
  <figure id="jm.ov.fig.States">
        <title>Job States</title>
        <mediaobject>
          <imageobject role="html">
            <imagedata width="700px" format="GIF"
              fileref="images/job-manager/DUCC.JobsManager.JobStates.v2.gif"></imagedata>
          </imageobject>
          <imageobject role="fo">
            <imagedata width="7.0in" format="GIF"
              fileref="images/job-manager/DUCC.JobsManager.JobStates.v2.gif"></imagedata>
          </imageobject>
          <textobject> <phrase>Job States</phrase></textobject></mediaobject>
  </figure>
  <para>
  Jobs enter the DUCC system upon submission and exit upon 
  the conclusion of processing the last work item or
  the cancellation of the job by command or 
  by exceeding a configured error threshold.
  </para>
</section>
<section>
 <title>Process States</title>
  <para>
  One or more processes comprising UIMA/SA services are deployed during the lifetime of 
  a Job.  Normally, each process goes through an initialization phase followed by the 
  processing of one or more work items.
  </para>
  <para>
  Each UIMA/AS service traverses a simple state machine from inception to conclusion.
  </para>
    <figure id="jm.ov.fig.Processes">
        <title>Job Processes States</title>
        <mediaobject>
          <imageobject role="html">
            <imagedata width="700px" format="GIF"
              fileref="images/job-manager/DUCC.JobsManager.ProcessStates.v2.gif"></imagedata>
          </imageobject>
          <imageobject role="fo">
            <imagedata width="7.0in" format="GIF"
              fileref="images/job-manager/DUCC.JobsManager.ProcessStates.v2.gif"></imagedata>
          </imageobject>
          <textobject> <phrase>Job States</phrase></textobject></mediaobject>
  </figure>
</section>
</chapter>
